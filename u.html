<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />


   <link rel="stylesheet" type="text/css" href="style2.css">
    
   <title>Recomende</title>
</head>
<body>
   <div class="container">
       <header>
           <h1 id='title'>Recomende um álbum</h1>
           <p id='description'>
               Somos gratos por sua recomendação, pois é ela que mantém a plataforma ^^
           </p>
       </header>

       <form id='survey-form'>
           <div class='form-input'>
               <label id='email-label'>Username</label>
               <input type='email' id='name' placeholder='Seu Username' name='username' class='form-input-size' required />
           </div>
           <div class='form-input'>
               <label id='name-label'>Álbum</label>
               <input type='name' id='email' placeholder='Coloque o nome da banda e álbum' name='album' class='form-input-size' required />
           </div>

           <div class='form-input'>
               <p>O que você pensa sobre esse álbum ?  </p>
               <textarea type='text' name="resenha" placeholder='Deixe um comentário sobre a sua recomendação'></textarea>
           </div>

           <div class='form-input'>
               <button type='submit' id='submit'>Enviar</button>
           </div>
       </form>
   </div>

   <script>
       document.getElementById('survey-form').addEventListener('submit', function(event) {
           event.preventDefault(); // Impede o envio do formulário padrão
           
           // Obtém os dados do formulário
           const formData = new FormData(this);

           // Faz a solicitação POST para a API
           fetch('http://85.31.61.105:3000/recommendations', {
               method: 'POST',
               body: formData
           })
           .then(response => response.json())
           .then(data => {
               console.log('Sucesso:', data);
               // Faça qualquer outra ação necessária após o sucesso
           })
           .catch(error => {
               console.error('Erro:', error);
               // Faça qualquer outra ação necessária em caso de erro
           });
       });
   </script>
</body>
</html>
